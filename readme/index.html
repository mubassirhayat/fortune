<!DOCTYPE html><!--

This page is automatically generated. See:
https://github.com/fortunejs/fortune/tree/master/website

--><html lang="en"><head><title>Fortune.js</title><meta name="description" content="High-level I&#x2F;O library for web applications."><meta name="keywords" content="adapter,api,data,http,hypermedia,rest,serializer"><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><link rel="icon" href="./assets/piggu.png"><link rel="stylesheet" href="./assets/index.css"></head><body><header><a href="https://github.com/fortunejs/fortune" id="corner">Fork on GitHub</a> <a href="./"><img src="./assets/piggu.svg" alt="Piggu" class="emblem"></a> <a href="./"><img src="./assets/fortune_type.svg" alt="Fortune.js" class="logo-type"></a><nav><a href="./getting-started/">Getting Started</a><!--
        --><a href="./api/">API Reference</a><!--
        --><a href="./plugins/">Plugins</a></nav></header><article><p>Fortune.js is a high-level I/O library for web applications, in the server and the browser. It provides an integrated feature set for working with data. The latest version is <strong>1.0.0-rc.8</strong>, get it from <code>npm</code>:</p><pre class="install"><code>npm install fortune<span class="hljs-literal">@latest</span> <span class="hljs-string">--save</span></code></pre><h4>Example</h4><p>Let&#39;s build an API that models Twitter&#39;s basic functionality:</p><pre><code class="lang-js"><span class="hljs-keyword">import</span> fortune from <span class="hljs-string">'fortune'</span>
<span class="hljs-keyword">import</span> http from <span class="hljs-string">'http'</span>

const store = fortune.create()

<span class="hljs-comment">// The `net.http` function returns a listener function which does content</span>
<span class="hljs-comment">// negotiation, parses headers, and maps the response to an HTTP response.</span>
const server = http.createServer(fortune.net.http(store))

store.defineType(<span class="hljs-string">'user'</span>, {
<span class="hljs-label">  name:</span> { <span class="hljs-string">type:</span> String },

  <span class="hljs-comment">// Following and followers are inversely related (many-to-many).</span>
<span class="hljs-label">  following:</span> { <span class="hljs-string">link:</span> <span class="hljs-string">'user'</span>, <span class="hljs-string">inverse:</span> <span class="hljs-string">'followers'</span>, <span class="hljs-string">isArray:</span> <span class="hljs-literal">true</span> },
<span class="hljs-label">  followers:</span> { <span class="hljs-string">link:</span> <span class="hljs-string">'user'</span>, <span class="hljs-string">inverse:</span> <span class="hljs-string">'following'</span>, <span class="hljs-string">isArray:</span> <span class="hljs-literal">true</span> },

  <span class="hljs-comment">// Many-to-one relationship of user posts to post author.</span>
<span class="hljs-label">  posts:</span> { <span class="hljs-string">link:</span> <span class="hljs-string">'post'</span>, <span class="hljs-string">inverse:</span> <span class="hljs-string">'author'</span>, <span class="hljs-string">isArray:</span> <span class="hljs-literal">true</span> }
})

store.defineType(<span class="hljs-string">'post'</span>, {
<span class="hljs-label">  message:</span> { <span class="hljs-string">type:</span> String },

  <span class="hljs-comment">// One-to-many relationship of post author to user posts.</span>
<span class="hljs-label">  author:</span> { <span class="hljs-string">link:</span> <span class="hljs-string">'user'</span>, <span class="hljs-string">inverse:</span> <span class="hljs-string">'posts'</span> }
})

store.connect().then(() =&gt; server.listen(<span class="hljs-number">1337</span>))
</code></pre><p>This yields a hypermedia API that conforms to the <a href="http://micro-api.org">Micro API</a> and <a href="http://jsonapi.org">JSON API</a> specifications. The default serializers emit an index route with hyperlinks and respond to <code>OPTIONS</code> requests appropriately, so that clients which understand the media types can consume the API without technical documentation. The JSON API serializer emits routes specified <a href="http://jsonapi.org/recommendations/">here</a>.</p><p>By default, it is backed by an embedded document store, <a href="https://github.com/louischatriot/nedb">NeDB</a>, which runs in memory by default, but has options to persist to disk. There are adapters for other databases such as <a href="https://github.com/fortunejs/fortune-mongodb">MongoDB</a> and <a href="https://github.com/fortunejs/fortune-postgres">Postgres</a>, enumerated in the <a href="http://fortunejs.com/plugins/">plugins page</a>.</p></article><footer><p>&copy; 2015 &nbsp;&mdash;&nbsp; <a href="https://raw.githubusercontent.com/fortunejs/fortune/master/LICENSE">MIT License</a></p></footer></body></html>